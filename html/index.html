<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/mainscript.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/bootstrap.min.js"></script>
    <script src="../node_modules/angular/angular.js"></script>
    <script src="../js/popper.min.js"></script>
    <script src="../js/angular-route.js"></script>
    <script src='https://rawgit.com/ghostbar/angular-file-model/master/angular-file-model.js'></script>

</head>

<body ng-app="routing">
    <div>
        <div class="mainx">
            <div ng-view></div>
        </div>
    </div>

    <script src="../controller/home.js"></script>
    <script src="../controller/addcategory.js"></script>
    <script src="../controller/addproduct.js"></script>
    <script src="../controller/cart.js"></script>
    <script src="../controller/detailproduct.js"></script>
    <script src="../controller/signin.js"></script>
    <script src="../controller/allproducts.js"></script>
    <script src="../controller/sold.js"></script>


    <script>
        const rt = angular.module("routing", ["ngRoute", "file-model"])
        rt.controller("x", ($scope) => {
            $scope.user = ""
            try {
                $scope.user = $window.location.href.split("?")[1].split("=")[1]
                $scope.idacc = 0
            } catch (error) {
                $scope.user = "undefine"
            }
            console.log($scope.user);
        })
        rt.controller("AllProducts", allproducts)
        rt.controller("Home", Home)
        rt.controller("AddCategory", addcategory)
        rt.controller("AddProduct", AddProduct)
        rt.controller("Cart", cart)
        rt.controller("DetailProduct", detailproduct)
        rt.controller("SignIn", signin)
        rt.controller("Sold", sold)


        rt.config(function ($routeProvider, $locationProvider) {
            $locationProvider.hashPrefix('');
            $routeProvider
                .when("/", {
                    templateUrl: "../pages/home.html",
                    controller: "Home"
                })
                .when("/detailproduct", {
                    templateUrl: "../pages/detailproduct.html",
                    controller: "DetailProduct"
                })
                .when("/event", {
                    templateUrl: "../pages/event.html"
                })
                .when("/product", {
                    templateUrl: "../pages/product.html",
                    controller: "AllProducts"
                })
                .when("/sign", {
                    templateUrl: "../pages/signin.html",
                    controller: "SignIn"
                })
                .when("/storeinfo", {
                    templateUrl: "../pages/storeintro.html"
                })
                .when("/cart", {
                    templateUrl: "../pages/cart.html",
                    controller: "Cart"
                })
                .when("/addproduct", {
                    templateUrl: "../pages/addproduct.html",
                    controller: "AddProduct"
                })
                .when("/addcategory", {
                    templateUrl: "../pages/addcategory.html",
                    controller: "AddCategory"
                })
                .when("/sold", {
                    templateUrl: "../pages/sold.html",
                    controller: "Sold"
                })
        })
    </script>
</body>

</html>