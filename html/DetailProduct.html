<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/mainscript.css">
    <link rel="stylesheet" href="../css/bootstrap-5.3.0-alpha1-dist/css/bootstrap.min.css">
    <script src="../css/bootstrap-5.3.0-alpha1-dist/js/bootstrap.min.js" ></script>
    <script src="../js/angular-1.8.2/angular.min.js"></script>
    <script src="../js/angular-1.8.2/angular-route.min.js"></script>
    <script src="../js/popper.js"></script>
</head>
<body ng-app="myApp">
    <div>
        <div class="mainx" ng-controller="DetailProductController">
        <!--header-->
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid row" style="justify-content: space-between">
                <h1 class="col-2" href="#">Innisfree</h1>
                <form class="d-flex col-3" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>

                <div class="col-4"></div>
                <div class="collapse navbar-collapse col-3 navbar-end" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0 row">
                        <li class="nav-item col-4">
                            <a class="nav-link active" aria-current="page" href="#">đăng nhập</a>
                        </li>
                        <li class="nav-item col-4">
                            <a class="nav-link" href="#">trang của tôi</a>
                        </li>
                        <li class="nav-item col-4">
                            <a class="nav-link" href="#">giỏ hàng</a>
                        </li>
                    </ul>
                </div>
                <button class="navbar-toggler col-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>

        <!--content-->
        <div class="row mt-3 mb-5">
            <div class="col-2"><h4>Trang chủ</h4></div>
            <div class="col-2"><h4>Sản phẩm</h4></div>
            <div class="col-2"><h4>Giới thiệu cửa hàng</h4></div>
            <div class="col-2"><h4>sự kiện</h4></div>
        </div>
        <div class="row">
            <div class="col">
                <div class="row">
                    <img ng-src={{listProducts[index-1].img}} class="d-block w-100" alt="...">
                    <ul class="pagination">
                        <li class="page-item" style="width: fit-content" ng-repeat="product in listProducts">
                            <img ng-src={{product.img}} alt="..." ng-click="handleChangeImg($event,product.id)" style="width: 30%;margin: 0">

                        </li>
                    </ul>
                </div>
            </div>
            <div class="col ms-5">
                <div class="row"><h1>{{listProducts[index-1].name}}</h1></div>
                <div class="row">
                    <p>chỗ này lười chưa cho thêm description vào api để lấy ra</p>
                </div>
                <div class="row" style="justify-content: center;">
                    <input type="number" ng-model="quantity" style="width: 5em;">
                </div>
                <div class="row" style="justify-content: center;">
                    <div class="col-4"><button ng-click="handleAdd($event)">thêm vào giỏ hàng</button></div>
                </div>
            </div>
        </div>
        <div class="row mt-5" style="display: flex;justify-content: space-between">

        </div>


        <!--footer-->

        <div class="footerx">
            <div class="the-real-footer">
                <div class="row footer-first-row">
                    <div class="col-8" style="text-align: start">
                        <div class="row">
                            <h1 style="color: white">innisfree</h1>
                        </div>
                        <div class="row mt-5">
                            <div class="col-1">
                                <button class="footer-button">a</button>
                            </div>
                            <div class="col-1">
                                <button class="footer-button">a</button>
                            </div>
                            <div class="col-1">
                                <button class="footer-button">a</button>
                            </div>
                            <div class="col-1">
                                <button class="footer-button">a</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-4" style="text-align: end;padding: 4% 0">
                        <div class="row">
                            <div class="col-2"><button class="footer-button">a</button></div>
                            <div class="col-10">
                                <div class="row footer-button-text">2020 innisfree Inc.</div>
                                <div class="row footer-button-text">All rights reserved.</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="row">
                        <div class="col-2" style="width: fit-content"><a class="footer-button-text">Chính sách giao hàng và thanh toán</a></div>
                        <div class="col-2" style="width: fit-content"><a class="footer-button-text">Chính sách bảo mật thông tin khách hàng</a></div>
                        <div class="col-2" style="width: fit-content"><a class="footer-button-text">Chính sách mua hàng</a></div>
                        <div class="col-2" style="width: fit-content"><a class="footer-button-text">Chính sách trả hàng</a></div>
                    </div>
                    <div class="row">
                        <p class="footer-button-text">thời gian làm việc: Thứ 2 đến thứ 7 hàng tuần</p>
                        <p class="footer-button-text">Tự vấn và chăm sóc khách hàng: 129310923890182390 (Ext 125)</p>
                        <p class="footer-button-text">Email: cs_vn@tinhte.innisfree.com</p>
                    </div>
                </div>
                <div class="row">

                </div>
            </div>
        </div>
    </div>
    </div>

</body>

<script>
    const rt = angular.module("route", ["ngRoute"])
    const app = angular.module("myApp",[])
    rt.config(($routeProvider) => {
        $LocationProvider.hashPrefix("")
        $routeProvider
            .when("/", {
                templateUrl : "index.html"
            })
            .when("/detailproduct", {
                templateUrl : "DetailProduct.html"
            })
            .when("/event", {
                templateUrl : "Event.html"
            })
            .when("/product", {
                templateUrl : "Product.html"
            })
            .when("/sign",{
                templateUrl: "SignInUp.html"
            })
            .when("/storeinfo",{
                templateUrl: "StoreInfo.html"
            })
            .when("/Cart",{
                templateUrl: "Cart.html"
            })
            
        ;
    })
    app.controller("DetailProductController",($scope, $http) => {
        const productApi = "http://localhost:3000/products"
        const cartsApi = "http://localhost:3000/carts"
        $scope.index = 1
        $scope.src = [
            {index: 1,src: "../img/kiana.png"},
            {index: 2,src: "../img/DetailProduct1.png"},
            {index: 3,src: "../img/ys.jpg"},
        ]
        $scope.quantity = 1;
        $http.get(productApi)
            .then( res => $scope.listProducts = res.data)
        
        
        $scope.handleChangeImg = (e, index) => {
            e.preventDefault();
            $scope.index = index
            console.log($scope.index)
        }
        $scope.handleAdd = (e) => {
            $http.post(cartsApi,{
                "idpro": $scope.index,
                "quantity" : $scope.quantity
            })
        }
    })
</script>
</html>